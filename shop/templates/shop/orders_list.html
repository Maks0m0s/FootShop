{% extends 'shop/base.html' %}

{% block content %}
<div class="page-wrapper" style="padding: 80px 20px;">
  <div class="cart-container" style="max-width: 1200px; margin: 0 auto;">

    <h1 class="home-title" style="font-size: 50px; font-weight: 800; text-align:center; margin-bottom: 40px;">
      📦 My Orders
    </h1>

    {% if orders %}
    <div style="background:#2c2c2c; border-radius:12px; overflow:hidden; box-shadow:0 4px 15px rgba(0,0,0,0.4);">
      <table style="width:100%; border-collapse:collapse; font-size: 24px;">
        <thead style="background:#1f1f1f;">
          <tr>
            <th style="padding:20px; text-align:left;">Order</th>
            <th style="padding:20px; text-align:center;">Created</th>
            <th style="padding:20px; text-align:center;">Total</th>
            <th style="padding:20px; text-align:center;">Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for order in orders %}
          <tr style="background:#3a3a3a; border-bottom:1px solid #444;">
            <td style="padding:20px; font-weight:700; font-size:26px;">
              Order #{{ forloop.counter }}
            </td>
            <td style="padding:20px; text-align:center;">
              <span style="background:#ffcc00; color:#000; padding:8px 14px; border-radius:8px; font-size:22px; font-weight:700;">
                {{ order.created_at|date:"Y-m-d" }}
              </span>
            </td>
            <td style="padding:20px; text-align:center; color:#ff6600; font-weight:700; font-size:26px;">
              {{ order.total_price }} €
            </td>
            <td style="padding:20px; text-align:center;">
              <a href="{% url 'order-details' forloop.counter order.id %}"
                 class="order-details-b"
                 style="color:#fff; padding:14px 26px; border-radius:10px; font-size:22px; font-weight:700; text-decoration:none;">
                 🔎 View Details
              </a>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

    <div style="text-align:right; margin-top:30px; font-size:28px; font-weight:800;">
      Total Orders: <span style="color:#ff6600;">{{ orders|length }}</span>
    </div>

    {% else %}
    <div style="background:#3a3a3a; padding:60px; border-radius:16px; text-align:center; color:#ddd; box-shadow:0 4px 15px rgba(0,0,0,0.4);">
      <h2 style="color:#ffcc00; font-size:34px; margin-bottom:20px;">You don't have any orders</h2>
      <p style="font-size:24px; margin-bottom:30px;">Browse the shop and place your first order!</p>
      <a href="{% url 'home' %}" style="background:#2C66AB; color:#fff; padding:16px 26px; border-radius:10px; text-decoration:none; font-size:22px;">
        🛍 Start Shopping
      </a>
    </div>
    {% endif %}
  </div>
</div>
{% endblock %}